<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jifford GameShow</title>
<style>
  body { 
    font-family: Arial, sans-serif; 
    background: #fdf6f0; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    min-height: 100vh; 
    padding: 20px;
  }
  #game { 
    max-width: 500px; 
    text-align: center; 
    background: #fff; 
    padding: 20px; 
    border-radius: 15px; 
    box-shadow: 0 5px 20px rgba(0,0,0,0.1); 
    position: relative;
  }
  #buttons { 
    display: flex; 
    justify-content: center; 
    margin-top: 20px; 
    gap: 20px;
    position: relative;
  }
  button { 
    padding: 10px 25px; 
    border: none; 
    border-radius: 8px; 
    font-size: 16px; 
    cursor: pointer; 
    transition: transform 0.3s ease; 
  }
  #yes { background-color: #4CAF50; color: white; }
  #no { background-color: #f44336; color: white; position: relative; }
</style>
</head>
<body>
<div id="game">
  <h2 id="question">Welcome to Jifford GameShow! ðŸŽ‰<br>Are you ready?</h2>
  <div id="buttons">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<script>
const questionEl = document.getElementById('question');
const yesBtn = document.getElementById('yes');
const noBtn = document.getElementById('no');

let currentKey = "welcome";
let noClicks = 0;

// Story data
const story = {
  "welcome": {yes:"q2a", no:null}, // no button does not go to a question
  "q2a": {text:"Did anything exciting happen today? ðŸŽ‰", yes:"q3a", no:"q3b"},
  "q2b": {text:"Did you try something new today? ðŸ¤”", yes:"q3c", no:"q3d"},
  // ... (rest of your story as before)
};

// Show question
function showQuestion(key){
  currentKey = key;
  if(story[key].text){
    questionEl.textContent = story[key].text;
  }
  if(story[key].end){
    document.getElementById('buttons').style.display = "none";
  } else {
    document.getElementById('buttons').style.display = "flex";
  }
}

// Yes button
yesBtn.addEventListener('click', ()=>{
  showQuestion(story[currentKey].yes);
});

// No button
noBtn.addEventListener('click', ()=>{
  if(currentKey==="welcome"){
    noClicks++;
    if(noClicks < 6){
      // Random movement in X and Y within the game box
      const container = document.getElementById('game');
      const rect = container.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // Limit max movement so it stays inside the container
      const maxX = rect.width - btnRect.width - 20; 
      const maxY = rect.height - btnRect.height - 20; 

      const x = Math.random() * maxX - maxX/2; // -max/2 to +max/2
      const y = Math.random() * maxY - maxY/2;

      noBtn.style.transform = `translate(${x}px, ${y}px) rotate(${Math.random()*15-7.5}deg)`;
    } else {
      noBtn.style.display = "none"; // disappear after 6 clicks
    }
    return;
  }
  showQuestion(story[currentKey].no);
});

// Initialize
showQuestion("welcome");
</script>
</body>
</html>
