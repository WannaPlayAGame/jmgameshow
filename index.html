<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jifford GameShow</title>
<style>
  body { 
    font-family: Arial, sans-serif; 
    background: #fdf6f0; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    min-height: 100vh; 
    padding: 20px;
  }
  #game { 
    max-width: 500px; 
    text-align: center; 
    background: #fff; 
    padding: 20px; 
    border-radius: 15px; 
    box-shadow: 0 5px 20px rgba(0,0,0,0.1); 
    position: relative;
  }
  #buttons { 
    display: flex; 
    justify-content: center; 
    margin-top: 20px; 
    gap: 20px;
    position: relative;
  }
  button { 
    padding: 10px 25px; 
    border: none; 
    border-radius: 8px; 
    font-size: 16px; 
    cursor: pointer; 
    transition: transform 0.3s ease; 
  }
  #yes { background-color: #4CAF50; color: white; }
  #no { background-color: #f44336; color: white; position: relative; }
</style>
</head>
<body>
<div id="game">
  <h2 id="question">Welcome to Jifford GameShow! ðŸŽ‰<br>Are you ready?</h2>
  <div id="buttons">
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>
</div>

<script>
const questionEl = document.getElementById('question');
const yesBtn = document.getElementById('yes');
const noBtn = document.getElementById('no');

let currentKey = "welcome";
let noClicks = 0;

// Story data (example, replace with your full questions)
const story = {
  "q2a": {text:"Did anything exciting happen today? ðŸŽ‰", yes:"q3a", no:"q3b"},
  "q2b": {text:"Did you try something new today? ðŸ¤”", yes:"q3c", no:"q3d"},
  "q3a": {text:"Have you ever pretended to work hard just to avoid chores? ðŸ˜…", yes:"end1", no:"end2"},
  "q3b": {text:"Did you avoid doing something today on purpose? ðŸ¤­", yes:"end1", no:"end2"},
  "end1": {text:"Congrats! You reached the end! ðŸŽ‰", end:true},
  "end2": {text:"Game over, but you did well! ðŸ‘", end:true}
};

// Show question
function showQuestion(key){
  currentKey = key;
  const q = story[key];
  if(!q) return;

  questionEl.textContent = q.text;
  if(q.end){
    document.getElementById('buttons').style.display = "none";
  } else {
    document.getElementById('buttons').style.display = "flex";
    yesBtn.style.transform = "translate(0,0)";
    noBtn.style.transform = "translate(0,0)";
    noBtn.style.display = "inline-block";
  }
}

// Yes button
yesBtn.addEventListener('click', ()=>{
  if(currentKey === "welcome"){
    showQuestion("q2a");
  } else {
    showQuestion(story[currentKey].yes);
  }
});

// No button
noBtn.addEventListener('click', ()=>{
  if(currentKey==="welcome"){
    noClicks++;
    const btnRect = noBtn.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();
    const container = document.getElementById('game').getBoundingClientRect();

    if(noClicks <= 6){
      // Random movement but never overlap yes button
      let x, y, tries = 0;
      do {
        x = Math.random() * (container.width - btnRect.width) - (container.width/2 - btnRect.width/2);
        y = Math.random() * (container.height - btnRect.height) - (container.height/2 - btnRect.height/2);
        tries++;
      } while(
        ((x + btnRect.width/2 > yesRect.left - container.left) && (x < yesRect.right - container.left)) &&
        ((y + btnRect.height/2 > yesRect.top - container.top) && (y < yesRect.bottom - container.top)) &&
        tries < 50
      );

      noBtn.style.transform = `translate(${x}px, ${y}px) rotate(${Math.random()*20-10}deg)`;
    } else {
      noBtn.style.display = "none";
    }
    return;
  }
  showQuestion(story[currentKey].no);
});

// Initialize
showQuestion("welcome");
</script>
</body>
</html>
